Setting up database for cinder.
Waiting for database server to come up.
mysql cmd: CREATE DATABASE cinder.
mysql cmd: GRANT ALL ON cinder.* TO 'cinder'@'%' IDENTIFIED BY 'cinderDBPass';.
mysql cmd: GRANT ALL ON cinder.* TO 'cinder'@'localhost' IDENTIFIED BY 'cinderDBPass';.
Waiting for keystone to come up.
Creating cinder user.
+---------------------+----------------------------------+
| Field               | Value                            |
+---------------------+----------------------------------+
| domain_id           | default                          |
| enabled             | True                             |
| id                  | c8cf344d6c85476bacb03c24523fd704 |
| name                | cinder                           |
| options             | {}                               |
| password_expires_at | None                             |
+---------------------+----------------------------------+
Linking cinder user, service tenant and admin role.
Registering cinder with keystone so that other services can locate it.
+-------------+----------------------------------+
| Field       | Value                            |
+-------------+----------------------------------+
| description | OpenStack Block Storage          |
| enabled     | True                             |
| id          | a76fe95d66e74c4ab20e5b7852725f4a |
| name        | cinderv2                         |
| type        | volumev2                         |
+-------------+----------------------------------+
+-------------+----------------------------------+
| Field       | Value                            |
+-------------+----------------------------------+
| description | OpenStack Block Storage          |
| enabled     | True                             |
| id          | 117b994704eb44658dd600783d894bff |
| name        | cinderv3                         |
| type        | volumev3                         |
+-------------+----------------------------------+
+--------------+------------------------------------------+
| Field        | Value                                    |
+--------------+------------------------------------------+
| enabled      | True                                     |
| id           | 882066e9802a46e0968c20b8bdbfc5eb         |
| interface    | public                                   |
| region       | RegionOne                                |
| region_id    | RegionOne                                |
| service_id   | a76fe95d66e74c4ab20e5b7852725f4a         |
| service_name | cinderv2                                 |
| service_type | volumev2                                 |
| url          | http://controller:8776/v2/%(project_id)s |
+--------------+------------------------------------------+
+--------------+------------------------------------------+
| Field        | Value                                    |
+--------------+------------------------------------------+
| enabled      | True                                     |
| id           | fe114ce9304b4419be615e5a9e23dc25         |
| interface    | internal                                 |
| region       | RegionOne                                |
| region_id    | RegionOne                                |
| service_id   | a76fe95d66e74c4ab20e5b7852725f4a         |
| service_name | cinderv2                                 |
| service_type | volumev2                                 |
| url          | http://controller:8776/v2/%(project_id)s |
+--------------+------------------------------------------+
+--------------+------------------------------------------+
| Field        | Value                                    |
+--------------+------------------------------------------+
| enabled      | True                                     |
| id           | 8378ee600e54448497e39ef164add0f8         |
| interface    | admin                                    |
| region       | RegionOne                                |
| region_id    | RegionOne                                |
| service_id   | a76fe95d66e74c4ab20e5b7852725f4a         |
| service_name | cinderv2                                 |
| service_type | volumev2                                 |
| url          | http://controller:8776/v2/%(project_id)s |
+--------------+------------------------------------------+
+--------------+------------------------------------------+
| Field        | Value                                    |
+--------------+------------------------------------------+
| enabled      | True                                     |
| id           | 09aa84fd2a4743db800eecfe6a984168         |
| interface    | public                                   |
| region       | RegionOne                                |
| region_id    | RegionOne                                |
| service_id   | 117b994704eb44658dd600783d894bff         |
| service_name | cinderv3                                 |
| service_type | volumev3                                 |
| url          | http://controller:8776/v3/%(project_id)s |
+--------------+------------------------------------------+
+--------------+------------------------------------------+
| Field        | Value                                    |
+--------------+------------------------------------------+
| enabled      | True                                     |
| id           | 01d72dd2d1614798a3e91dfaa92eefa3         |
| interface    | internal                                 |
| region       | RegionOne                                |
| region_id    | RegionOne                                |
| service_id   | 117b994704eb44658dd600783d894bff         |
| service_name | cinderv3                                 |
| service_type | volumev3                                 |
| url          | http://controller:8776/v3/%(project_id)s |
+--------------+------------------------------------------+
+--------------+------------------------------------------+
| Field        | Value                                    |
+--------------+------------------------------------------+
| enabled      | True                                     |
| id           | 880b5c2e2795410583f318201b64aae7         |
| interface    | admin                                    |
| region       | RegionOne                                |
| region_id    | RegionOne                                |
| service_id   | 117b994704eb44658dd600783d894bff         |
| service_name | cinderv3                                 |
| service_type | volumev3                                 |
| url          | http://controller:8776/v3/%(project_id)s |
+--------------+------------------------------------------+
Installing cinder.
Last metadata expiration check: 5:10:59 ago on Sun 05 Sep 2021 01:29:35 AM EDT.
Package qemu-img-15:5.2.0-16.el8.x86_64 is already installed.
Dependencies resolved.
================================================================================
 Package                    Arch    Version           Repository           Size
================================================================================
Installing:
 openstack-cinder           noarch  1:17.1.0-1.el8    openstack-victoria   61 k
Installing dependencies:
 python3-cinder             noarch  1:17.1.0-1.el8    openstack-victoria  7.5 k
 python3-cinder-common      noarch  1:17.1.0-1.el8    openstack-victoria  3.9 M
 python3-etcd3gw            noarch  0.2.5-1.el8       openstack-victoria   41 k
 python3-google-api-client  noarch  1:1.6.7-10.el8    openstack-victoria   97 k
 python3-kmod               x86_64  0.9-20.el8        baseos               90 k
 python3-oauth2client       noarch  4.1.3-8.el8       openstack-victoria  149 k
 python3-rtslib             noarch  2.1.74-1.el8      baseos              102 k
 python3-tabulate           noarch  0.8.7-4.el8       openstack-victoria   50 k
 python3-uritemplate        noarch  3.0.0-10.el8      openstack-victoria   23 k
 python3-zstd               x86_64  1.4.5.1-1.el8     openstack-victoria   18 k

Transaction Summary
================================================================================
Install  11 Packages

Total download size: 4.6 M
Installed size: 20 M
Downloading Packages:
(1/11): openstack-cinder-17.1.0-1.el8.noarch.rp 181 kB/s |  61 kB     00:00    
(2/11): python3-cinder-17.1.0-1.el8.noarch.rpm   79 kB/s | 7.5 kB     00:00    
(3/11): python3-kmod-0.9-20.el8.x86_64.rpm      199 kB/s |  90 kB     00:00    
(4/11): python3-rtslib-2.1.74-1.el8.noarch.rpm  205 kB/s | 102 kB     00:00    
(5/11): python3-etcd3gw-0.2.5-1.el8.noarch.rpm  155 kB/s |  41 kB     00:00    
(6/11): python3-google-api-client-1.6.7-10.el8. 293 kB/s |  97 kB     00:00    
(7/11): python3-tabulate-0.8.7-4.el8.noarch.rpm 550 kB/s |  50 kB     00:00    
(8/11): python3-oauth2client-4.1.3-8.el8.noarch 624 kB/s | 149 kB     00:00    
(9/11): python3-uritemplate-3.0.0-10.el8.noarch 215 kB/s |  23 kB     00:00    
(10/11): python3-zstd-1.4.5.1-1.el8.x86_64.rpm  212 kB/s |  18 kB     00:00    
(11/11): python3-cinder-common-17.1.0-1.el8.noa 1.8 MB/s | 3.9 MB     00:02    
--------------------------------------------------------------------------------
Total                                           1.4 MB/s | 4.6 MB     00:03     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                        1/1 
  Installing       : python3-oauth2client-4.1.3-8.el8.noarch               1/11 
  Installing       : python3-zstd-1.4.5.1-1.el8.x86_64                     2/11 
  Installing       : python3-uritemplate-3.0.0-10.el8.noarch               3/11 
  Installing       : python3-google-api-client-1:1.6.7-10.el8.noarch       4/11 
  Installing       : python3-tabulate-0.8.7-4.el8.noarch                   5/11 
  Installing       : python3-etcd3gw-0.2.5-1.el8.noarch                    6/11 
  Installing       : python3-kmod-0.9-20.el8.x86_64                        7/11 
  Installing       : python3-rtslib-2.1.74-1.el8.noarch                    8/11 
  Installing       : python3-cinder-common-1:17.1.0-1.el8.noarch           9/11 
  Installing       : python3-cinder-1:17.1.0-1.el8.noarch                 10/11 
  Running scriptlet: openstack-cinder-1:17.1.0-1.el8.noarch               11/11 
  Installing       : openstack-cinder-1:17.1.0-1.el8.noarch               11/11 
  Running scriptlet: openstack-cinder-1:17.1.0-1.el8.noarch               11/11 
  Verifying        : python3-kmod-0.9-20.el8.x86_64                        1/11 
  Verifying        : python3-rtslib-2.1.74-1.el8.noarch                    2/11 
  Verifying        : openstack-cinder-1:17.1.0-1.el8.noarch                3/11 
  Verifying        : python3-cinder-1:17.1.0-1.el8.noarch                  4/11 
  Verifying        : python3-cinder-common-1:17.1.0-1.el8.noarch           5/11 
  Verifying        : python3-etcd3gw-0.2.5-1.el8.noarch                    6/11 
  Verifying        : python3-google-api-client-1:1.6.7-10.el8.noarch       7/11 
  Verifying        : python3-oauth2client-4.1.3-8.el8.noarch               8/11 
  Verifying        : python3-tabulate-0.8.7-4.el8.noarch                   9/11 
  Verifying        : python3-uritemplate-3.0.0-10.el8.noarch              10/11 
  Verifying        : python3-zstd-1.4.5.1-1.el8.x86_64                    11/11 
Installed products updated.

Installed:
  openstack-cinder-1:17.1.0-1.el8.noarch                                        
  python3-cinder-1:17.1.0-1.el8.noarch                                          
  python3-cinder-common-1:17.1.0-1.el8.noarch                                   
  python3-etcd3gw-0.2.5-1.el8.noarch                                            
  python3-google-api-client-1:1.6.7-10.el8.noarch                               
  python3-kmod-0.9-20.el8.x86_64                                                
  python3-oauth2client-4.1.3-8.el8.noarch                                       
  python3-rtslib-2.1.74-1.el8.noarch                                            
  python3-tabulate-0.8.7-4.el8.noarch                                           
  python3-uritemplate-3.0.0-10.el8.noarch                                       
  python3-zstd-1.4.5.1-1.el8.x86_64                                             

Complete!
Configuring cinder-api.conf.
Setting database connection: mysql+pymysql://cinder:cinderDBPass@controller/cinder.
'/etc/cinder/cinder.conf' -> '/tmp/077_etc_cinder_cinder.conf.iniset'
iniset /tmp/077_etc_cinder_cinder.conf.iniset database connection mysql+pymysql://cinder:cinderDBPass@controller/cinder
Configuring RabbitMQ message queue access.
'/etc/cinder/cinder.conf' -> '/tmp/078_etc_cinder_cinder.conf.iniset'
iniset /tmp/078_etc_cinder_cinder.conf.iniset DEFAULT transport_url rabbit://openstack:rabbitPass@controller
'/etc/cinder/cinder.conf' -> '/tmp/079_etc_cinder_cinder.conf.iniset'
iniset /tmp/079_etc_cinder_cinder.conf.iniset DEFAULT auth_strategy keystone
'/etc/cinder/cinder.conf' -> '/tmp/080_etc_cinder_cinder.conf.iniset'
iniset /tmp/080_etc_cinder_cinder.conf.iniset keystone_authtoken www_authenticate_uri http://controller:5000
'/etc/cinder/cinder.conf' -> '/tmp/081_etc_cinder_cinder.conf.iniset'
iniset /tmp/081_etc_cinder_cinder.conf.iniset keystone_authtoken auth_url http://controller:5000
'/etc/cinder/cinder.conf' -> '/tmp/082_etc_cinder_cinder.conf.iniset'
iniset /tmp/082_etc_cinder_cinder.conf.iniset keystone_authtoken memcached_servers controller:11211
'/etc/cinder/cinder.conf' -> '/tmp/083_etc_cinder_cinder.conf.iniset'
iniset /tmp/083_etc_cinder_cinder.conf.iniset keystone_authtoken auth_type password
'/etc/cinder/cinder.conf' -> '/tmp/084_etc_cinder_cinder.conf.iniset'
iniset /tmp/084_etc_cinder_cinder.conf.iniset keystone_authtoken project_domain_id default
'/etc/cinder/cinder.conf' -> '/tmp/085_etc_cinder_cinder.conf.iniset'
iniset /tmp/085_etc_cinder_cinder.conf.iniset keystone_authtoken user_domain_id default
'/etc/cinder/cinder.conf' -> '/tmp/086_etc_cinder_cinder.conf.iniset'
iniset /tmp/086_etc_cinder_cinder.conf.iniset keystone_authtoken project_name service
'/etc/cinder/cinder.conf' -> '/tmp/087_etc_cinder_cinder.conf.iniset'
iniset /tmp/087_etc_cinder_cinder.conf.iniset keystone_authtoken username cinder
'/etc/cinder/cinder.conf' -> '/tmp/088_etc_cinder_cinder.conf.iniset'
iniset /tmp/088_etc_cinder_cinder.conf.iniset keystone_authtoken password cinderPass
'/etc/cinder/cinder.conf' -> '/tmp/089_etc_cinder_cinder.conf.iniset'
iniset /tmp/089_etc_cinder_cinder.conf.iniset DEFAULT my_ip 10.0.0.11
'/etc/cinder/cinder.conf' -> '/tmp/090_etc_cinder_cinder.conf.iniset'
iniset /tmp/090_etc_cinder_cinder.conf.iniset oslo_concurrency lock_path /var/lib/cinder/tmp
Populating the Block Storage database.
Configuring Compute to use Block Storage.
'/etc/nova/nova.conf' -> '/tmp/091_etc_nova_nova.conf.iniset'
iniset /tmp/091_etc_nova_nova.conf.iniset cinder os_region_name RegionOne
Restarting the Block Storage services.
Restarting and enabling openstack-cinder-scheduler.
Created symlink /etc/systemd/system/multi-user.target.wants/openstack-cinder-scheduler.service → /usr/lib/systemd/system/openstack-cinder-scheduler.service.
Restarting and enabling openstack-cinder-api.
Created symlink /etc/systemd/system/multi-user.target.wants/openstack-cinder-api.service → /usr/lib/systemd/system/openstack-cinder-api.service.
Restarting and enabling openstack-nova-api.
Restarting and enabling openstack-nova-scheduler.
Restarting and enabling openstack-nova-conductor.
Restarting and enabling openstack-nova-novncproxy.
Restarting and enabling httpd.
Restarting httpd and Nova services.
Restarting openstack-nova-api.
Restarting openstack-nova-scheduler.
Restarting openstack-nova-conductor.
Restarting openstack-nova-novncproxy.
Restarting httpd.
success
success
Waiting for cinder to start.
